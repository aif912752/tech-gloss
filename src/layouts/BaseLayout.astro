---
// BaseLayout - Base HTML structure for all pages
import "../styles/starwind.css";
import ThemeToggle from "../components/ThemeToggle.astro";
import SEO from "../components/SEO.astro";
import SkipLinks from "../components/SkipLinks.astro";

export interface Props {
  title: string;
  description?: string;
  type?: "website" | "article";
  image?: string;
  imageAlt?: string;
  publishedTime?: Date;
  modifiedTime?: Date;
  author?: string;
  tags?: string[];
  category?: string;
  noindex?: boolean;
  canonical?: string;
  entry?: any;
  allTerms?: any[];
  structuredDataType?: "website" | "glossary" | "term";
}

const {
  title,
  description = "TechGloss - Developer Glossary",
  type = "website",
  image,
  imageAlt,
  publishedTime,
  modifiedTime,
  author,
  tags,
  category,
  noindex,
  canonical,
  entry,
  allTerms,
  structuredDataType = "website",
} = Astro.props;
---

<!doctype html>
<html lang="th" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />

    <!-- SEO Meta Tags -->
    <SEO
      title={title}
      description={description}
      type={type}
      image={image}
      imageAlt={imageAlt}
      publishedTime={publishedTime}
      modifiedTime={modifiedTime}
      author={author}
      tags={tags}
      category={category}
      noindex={noindex}
      canonical={canonical}
      entry={entry}
      allTerms={allTerms}
      structuredDataType={structuredDataType}
    />
    <script is:inline>
      const getTheme = () => {
        if (
          typeof localStorage !== "undefined" &&
          localStorage.getItem("theme")
        ) {
          return localStorage.getItem("theme");
        }
        if (
          window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: dark)").matches
        ) {
          return "dark";
        }
        return "light";
      };
      const theme = getTheme();
      if (theme === "dark") document.documentElement.classList.add("dark");
    </script>
  </head>
  <body class="min-h-full bg-background text-foreground font-sans antialiased">
    <!-- Skip Links for Accessibility -->
    <SkipLinks />

    <div class="min-h-full">
      <header class="bg-card shadow-sm border-b border-border" role="banner">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-3 items-center py-6" id="navigation">
            <div class="flex items-center space-x-3">
              <div
                class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center"
              >
                <span class="text-primary-foreground font-bold text-lg">üåø</span
                >
              </div>
              <a
                href="/"
                class="text-2xl font-bold text-primary hover:text-primary/80 transition-colors"
              >
                TechGloss
              </a>
              <span
                class="text-sm text-muted-foreground font-medium px-2 py-1 bg-accent/20 rounded-full"
              >
                Green Knowledge
              </span>
            </div>
            <nav
              class="flex items-center justify-center space-x-6"
              role="navigation"
              aria-label="‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
            >
              <a
                href="/"
                class="text-foreground/80 hover:text-primary transition-colors font-medium focus-ring rounded-sm px-2 py-1"
                aria-label="‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å"
              >
                ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
              </a>
              <a
                href="/newsletter"
                class="text-foreground/80 hover:text-primary transition-colors font-medium flex items-center focus-ring rounded-sm px-2 py-1"
                title="‡∏£‡∏±‡∏ö‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•"
                aria-label="‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏£‡∏±‡∏ö Newsletter"
              >
                <span class="mr-1" aria-hidden="true">üìß</span>
                Newsletter
              </a>
              <a
                href="/about"
                class="text-foreground/80 hover:text-primary transition-colors font-medium focus-ring rounded-sm px-2 py-1"
                aria-label="‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö TechGloss"
              >
                ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö
              </a>
            </nav>
            <div class="flex justify-end">
              <ThemeToggle />
            </div>
          </div>
        </div>
      </header>

      <main
        class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"
        role="main"
        id="main-content"
      >
        <slot />
      </main>

      <footer
        class="bg-muted/30 border-t border-border mt-16"
        role="contentinfo"
      >
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
          <div class="text-center">
            <div class="flex items-center justify-center space-x-2 mb-4">
              <div
                class="w-6 h-6 bg-primary rounded flex items-center justify-center"
              >
                <span class="text-primary-foreground text-sm">üåø</span>
              </div>
              <span class="text-lg font-semibold text-primary">TechGloss</span>
            </div>
            <p class="text-muted-foreground text-sm">
              &copy; 2024 TechGloss - Green Knowledge Theme. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ ‚ù§Ô∏è ‡πÅ‡∏•‡∏∞
              Astro
            </p>
            <p class="text-muted-foreground text-xs mt-2">
              ‡∏û‡∏à‡∏ô‡∏≤‡∏ô‡∏∏‡∏Å‡∏£‡∏°‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤ | ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à ‡∏û‡∏±‡∏í‡∏ô‡∏≤
            </p>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>
