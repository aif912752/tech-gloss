@import url("https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap");
@import "tailwindcss";
@import "tw-animate-css";
@plugin "@tailwindcss/forms";
@variant dark (&:where(.dark, .dark *));

@theme {
	--animate-accordion-down: accordion-down 0.2s ease-out;
	--animate-accordion-up: accordion-up 0.2s ease-out;

	@keyframes accordion-down {
		from {
			height: 0;
		}
		to {
			height: var(--starwind-accordion-content-height, auto);
		}
	}

	@keyframes accordion-up {
		from {
			height: var(--starwind-accordion-content-height, auto);
		}
		to {
			height: 0;
		}
	}
}

@theme inline {
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-info: var(--info);
	--color-info-foreground: var(--info-foreground);
	--color-success: var(--success);
	--color-success-foreground: var(--success-foreground);
	--color-warning: var(--warning);
	--color-warning-foreground: var(--warning-foreground);
	--color-error: var(--error);
	--color-error-foreground: var(--error-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-outline: var(--outline);

	--radius-xs: calc(var(--radius) - 0.375rem);
	--radius-sm: calc(var(--radius) - 0.25rem);
	--radius-md: calc(var(--radius) - 0.125rem);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 0.25rem);
	--radius-2xl: calc(var(--radius) + 0.5rem);
	--radius-3xl: calc(var(--radius) + 1rem);
}

@layer base {
	:root {
		--radius: 0.625rem;
		/* Green Knowledge Light Theme */
		--background: oklch(0.98 0.01 120); /* Soft cream-green background */
		--foreground: oklch(0.15 0.02 140); /* Deep forest green text */
		--card: oklch(0.99 0.005 110); /* Pure white with hint of green */
		--card-foreground: oklch(0.15 0.02 140); /* Deep forest green */
		--popover: oklch(0.99 0.005 110); /* Pure white with hint of green */
		--popover-foreground: oklch(0.15 0.02 140); /* Deep forest green */
		--primary: oklch(0.45 0.15 140); /* Rich emerald green */
		--primary-foreground: oklch(0.98 0.01 120); /* Light cream for contrast */
		--secondary: oklch(0.92 0.02 130); /* Light sage green */
		--secondary-foreground: oklch(0.25 0.03 140); /* Dark green text */
		--muted: oklch(0.94 0.015 125); /* Very light mint */
		--muted-foreground: oklch(0.45 0.02 135); /* Medium green-gray */
		--accent: oklch(0.65 0.12 150); /* Fresh mint accent */
		--accent-foreground: oklch(0.98 0.01 120); /* Light cream */
		--info: var(--color-sky-300);
		--info-foreground: var(--color-sky-950);
		--success: var(--color-green-300);
		--success-foreground: var(--color-green-950);
		--warning: var(--color-amber-300);
		--warning-foreground: var(--color-amber-950);
		--error: oklch(0.55 0.2 25); /* Warm red for errors */
		--error-foreground: oklch(0.98 0.01 120);
		--border: oklch(0.88 0.02 125); /* Soft green-gray border */
		--input: oklch(0.96 0.01 120); /* Light input background */
		--outline: oklch(0.45 0.15 140); /* Primary green for focus */
	}

	.dark {
		/* Green Knowledge Dark Theme */
		--background: oklch(0.08 0.015 140); /* Deep forest background */
		--foreground: oklch(0.92 0.02 130); /* Light sage text */
		--card: oklch(0.12 0.02 135); /* Dark green card */
		--card-foreground: oklch(0.92 0.02 130); /* Light sage text */
		--popover: oklch(0.12 0.02 135); /* Dark green popover */
		--popover-foreground: oklch(0.92 0.02 130); /* Light sage text */
		--primary: oklch(0.65 0.12 150); /* Bright mint primary */
		--primary-foreground: oklch(0.08 0.015 140); /* Dark background */
		--secondary: oklch(0.18 0.03 135); /* Dark sage secondary */
		--secondary-foreground: oklch(0.85 0.02 125); /* Light text */
		--muted: oklch(0.15 0.025 138); /* Dark muted green */
		--muted-foreground: oklch(0.65 0.02 130); /* Medium light text */
		--accent: oklch(0.55 0.15 160); /* Vibrant green accent */
		--accent-foreground: oklch(0.95 0.01 120); /* Very light text */
		--info: var(--color-sky-300);
		--info-foreground: var(--color-sky-950);
		--success: var(--color-green-300);
		--success-foreground: var(--color-green-950);
		--warning: var(--color-amber-300);
		--warning-foreground: var(--color-amber-950);
		--error: oklch(0.65 0.18 25); /* Bright red for errors */
		--error-foreground: oklch(0.95 0.01 120);
		--border: oklch(0.25 0.03 135); /* Dark green border */
		--input: oklch(0.15 0.02 138); /* Dark input background */
		--outline: oklch(0.65 0.12 150); /* Bright mint for focus */
	}

	* {
		font-family: "Kanit", system-ui, sans-serif;
		@apply border-border outline-outline/50;
	}
	*:focus-visible {
		@apply outline-outline;
	}
	html {
		@apply bg-background text-foreground scheme-light dark:scheme-dark;
		scroll-behavior: smooth;
	}
	body {
		@apply bg-background text-foreground;
	}
	button {
		@apply cursor-pointer;
	}
	code {
		font-family: "JetBrains Mono", "Fira Code", "Consolas", monospace;
	}
}

@layer utilities {
	/* transition-colors but without outline-color transition property */
	.starwind-transition-colors {
		transition-property: color, background-color, border-color, text-decoration-color, fill, stroke,
			--tw-gradient-from, --tw-gradient-via, --tw-gradient-to;
		transition-timing-function: var(--default-transition-timing-function);
		transition-duration: var(--default-transition-duration);
	}

	/* Accordion specific utilities */
	.starwind-accordion-content {
		will-change: height;
	}
	
	.starwind-accordion-content[data-state="open"] {
		height: var(--starwind-accordion-content-height, auto);
	}
	
	.starwind-accordion-content[data-state="closed"] {
		height: 0;
	}
}

@layer components {
	/* Typography Scale */
	.text-display {
		@apply text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight;
	}

	.text-heading-1 {
		@apply text-3xl md:text-4xl font-bold tracking-tight;
	}

	.text-heading-2 {
		@apply text-2xl md:text-3xl font-semibold tracking-tight;
	}

	.text-heading-3 {
		@apply text-xl md:text-2xl font-semibold;
	}

	.text-body-large {
		@apply text-lg leading-relaxed;
	}

	.text-body {
		@apply text-base leading-relaxed;
	}

	.text-body-small {
		@apply text-sm leading-relaxed;
	}

	.text-caption {
		@apply text-xs text-muted-foreground;
	}

	/* Focus styles */
	.focus-ring {
		@apply focus:outline-none focus:ring-2 focus:ring-outline focus:ring-offset-2 focus:ring-offset-background;
	}

	/* Smooth transitions */
	.transition-smooth {
		@apply transition-all duration-200 ease-in-out;
	}

	/* Container utilities */
	.container-narrow {
		@apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8;
	}

	.container-wide {
		@apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
	}

	.glossary-card {
		@apply bg-card rounded-lg shadow-sm hover:shadow-md transition-all duration-200 p-6 border border-border hover:border-primary/20;
	}

	.glossary-card:hover {
		@apply bg-accent/5;
	}

	.search-bar {
		@apply w-full max-w-md mx-auto;
	}

	.search-bar input {
		@apply w-full px-4 py-3 border border-border rounded-lg focus:ring-2 focus:ring-outline focus:border-primary bg-input text-foreground placeholder:text-muted-foreground transition-colors;
	}

	.category-badge {
		@apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary border border-primary/20;
	}

	.btn-primary {
		@apply bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-lg font-medium transition-colors focus:ring-2 focus:ring-outline focus:outline-none;
	}

	.btn-secondary {
		@apply bg-secondary text-secondary-foreground hover:bg-secondary/80 px-4 py-2 rounded-lg font-medium transition-colors focus:ring-2 focus:ring-outline focus:outline-none;
	}

	.code-block {
		@apply bg-muted/50 border border-border rounded-lg p-4 font-mono text-sm overflow-x-auto;
	}

	.prose-green {
		@apply max-w-none;
	}

	.prose-green h1 {
		@apply text-primary;
	}

	.prose-green h2 {
		@apply text-primary/90;
	}

	.prose-green h3 {
		@apply text-primary/80;
	}

	.prose-green a {
		@apply text-primary hover:text-primary/80 no-underline hover:underline;
	}

	.prose-green code {
		@apply bg-muted/50 text-accent-foreground px-1.5 py-0.5 rounded text-sm;
	}

	.prose-green pre {
		@apply bg-muted/50 border border-border;
	}
}

/* Green Knowledge Theme Animations */
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideIn {
	from {
		opacity: 0;
		transform: translateX(-10px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes pulse-green {
	0%,
	100% {
		box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
	}
	50% {
		box-shadow: 0 0 0 10px rgba(34, 197, 94, 0);
	}
}

.animate-fade-in {
	animation: fadeIn 0.5s ease-out;
}

.animate-slide-in {
	animation: slideIn 0.3s ease-out;
}

.animate-pulse-green {
	animation: pulse-green 2s infinite;
}

/* Green Knowledge specific utilities */
.bg-gradient-green {
	background: linear-gradient(
		135deg,
		oklch(0.65 0.12 150) 0%,
		oklch(0.55 0.15 140) 50%,
		oklch(0.45 0.18 130) 100%
	);
}

.text-gradient-green {
	background: linear-gradient(
		135deg,
		oklch(0.45 0.15 140) 0%,
		oklch(0.65 0.12 150) 100%
	);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

.shadow-green {
	box-shadow: 0 4px 6px -1px rgba(34, 197, 94, 0.1),
		0 2px 4px -1px rgba(34, 197, 94, 0.06);
}

.shadow-green-lg {
	box-shadow: 0 10px 15px -3px rgba(34, 197, 94, 0.1),
		0 4px 6px -2px rgba(34, 197, 94, 0.05);
}

/* Print styles */
@media print {
	.no-print {
		display: none !important;
	}

	body {
		background: white !important;
		color: black !important;
	}

	.glossary-card {
		border: 1px solid #ccc !important;
		box-shadow: none !important;
	}
}

/* High contrast mode support */
@media (prefers-contrast: high) {
	:root {
		--primary: oklch(0.3 0.2 140);
		--border: oklch(0.5 0 0);
	}

	.dark {
		--primary: oklch(0.8 0.15 150);
		--border: oklch(0.7 0 0);
	}
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
	* {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

/* Focus visible for better accessibility */
.focus-visible:focus-visible {
	outline: 2px solid oklch(0.45 0.15 140);
	outline-offset: 2px;
}
/* Acces
sibility Styles */

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus ring for better keyboard navigation */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background;
}

/* High contrast focus for better visibility */
.focus-visible {
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
}

/* Keyboard navigation indicator */
.keyboard-navigation *:focus {
  outline: 2px solid rgb(34, 197, 94);
  outline-offset: 2px;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .btn-primary {
    border: 2px solid currentColor;
  }
  
  .btn-secondary {
    border: 2px solid currentColor;
  }
  
  .border {
    border-width: 2px;
  }
}

/* Focus management for skip links */
[tabindex="-1"]:focus {
  outline: 2px solid rgb(34, 197, 94);
  outline-offset: 2px;
}

/* Ensure interactive elements have minimum touch target size */
button,
[role="button"],
a,
input,
select,
textarea {
  min-height: 44px;
  min-width: 44px;
}

/* Exception for inline links */
p a,
li a,
.inline-link {
  min-height: auto;
  min-width: auto;
}

/* Improve text readability */
body {
  line-height: 1.6;
}

h1, h2, h3, h4, h5, h6 {
  line-height: 1.3;
}

/* Ensure sufficient color contrast for links */
a {
  text-decoration-skip-ink: auto;
}

a:focus,
a:hover {
  text-decoration: underline;
  text-decoration-thickness: 2px;
  text-underline-offset: 2px;
}

/* Loading states should be announced to screen readers */
[aria-busy="true"] {
  cursor: wait;
}

/* Error states should be clearly visible */
[aria-invalid="true"] {
  border-color: rgb(239, 68, 68);
  box-shadow: 0 0 0 1px rgb(239, 68, 68);
}

/* Success states */
[aria-invalid="false"] {
  border-color: rgb(34, 197, 94);
}

/* Required field indicator */
[aria-required="true"]::after,
[required]::after {
  content: " *";
  color: rgb(239, 68, 68);
  font-weight: bold;
}

/* Visually hidden but accessible to screen readers */
.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Dark mode accessibility improvements */
@media (prefers-color-scheme: dark) {
  /* Ensure sufficient contrast in dark mode */
  :root {
    --focus-ring-color: rgb(74, 222, 128);
  }
  
  .focus-ring {
    @apply focus:ring-green-400;
  }
}

/* Print styles for accessibility */
@media print {
  .skip-links,
  .sr-only {
    display: none !important;
  }
  
  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }
  
  a[href^="#"]:after {
    content: "";
  }
}